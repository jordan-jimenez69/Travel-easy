(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[151],{4257:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/commander",function(){return n(5584)}])},3546:function(e,r,n){"use strict";function s(){window.confirm("\xcates-vous s\xfbr de vouloir vous d\xe9connecter ?")&&logout()}n.d(r,{Z:function(){return s}})},6898:function(e,r,n){"use strict";n.d(r,{Z:function(){return c}});var s=n(5893),t=n(1664),i=n.n(t),a=n(7294),l=n(7031),o=n(3546);function c(){let{user:e,logout:r}=(0,a.useContext)(l.Z);return(0,s.jsxs)("nav",{className:"navbar",children:[(0,s.jsx)("div",{className:"logo-navbar",children:(0,s.jsx)("h2",{children:"TravelEasy"})}),(0,s.jsx)("div",{className:"liste-navbar",children:(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{className:"li-navbar",children:(0,s.jsx)(i(),{href:"/",children:"Accueil"})}),(0,s.jsx)("li",{className:"li-navbar",children:(0,s.jsx)(i(),{href:"/boutique",children:"Boutique"})}),(0,s.jsx)("li",{className:"li-navbar",children:(0,s.jsx)(i(),{href:"/panier",children:"Panier"})}),e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("li",{className:"li-navbar",children:(0,s.jsx)(i(),{href:"/compte",children:"Mon Compte"})}),(0,s.jsx)("li",{className:"li-navbar",children:(0,s.jsx)("a",{onClick:o.Z,style:{cursor:"pointer"},children:"D\xe9connexion"})})]}):(0,s.jsx)("li",{className:"li-navbar",children:(0,s.jsx)(i(),{href:"/login",children:"Connexion"})})]})})]})}},8565:function(e,r,n){"use strict";var s=n(5893),t=n(5026),i=n(7294);r.Z=()=>{let{cartProducts:e,clearCart:r}=(0,i.useContext)(t.A9),[n,a]=(0,i.useState)(""),[l,o]=(0,i.useState)(""),[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(""),[x,m]=(0,i.useState)(""),[j,v]=(0,i.useState)(""),f=async r=>{if(r.preventDefault(),!n||!l||!c||!d||!x||!j||0===e.length){console.error("Missing required fields");return}let s=e.map(e=>e._id);try{let e=await fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstname:n,name:l,ville:c,codePost:d,adresse:x,pays:j,products:s})});if(e.ok){let r=await e.json();window.location.href=r.url,localStorage.clear()}else{let r=await e.json();console.error("Error creating order:",r)}}catch(e){console.error("Error creating order:",e)}};return(0,s.jsxs)("div",{className:"chekout-container",children:[(0,s.jsx)("h2",{children:"Vos Information"}),(0,s.jsxs)("form",{onSubmit:f,children:[(0,s.jsxs)("div",{className:"chekout-form-group",children:[(0,s.jsx)("label",{htmlFor:"firstname",children:"Pr\xe9nom:"}),(0,s.jsx)("input",{type:"text",id:"firstname",value:n,onChange:e=>a(e.target.value),required:!0})]}),(0,s.jsxs)("div",{className:"chekout-form-group",children:[(0,s.jsx)("label",{htmlFor:"name",children:"Nom:"}),(0,s.jsx)("input",{type:"text",id:"name",value:l,onChange:e=>o(e.target.value),required:!0})]}),(0,s.jsxs)("div",{className:"chekout-form-group",children:[(0,s.jsx)("label",{htmlFor:"ville",children:"Ville:"}),(0,s.jsx)("input",{type:"text",id:"ville",value:c,onChange:e=>u(e.target.value),required:!0})]}),(0,s.jsxs)("div",{className:"chekout-form-group",children:[(0,s.jsx)("label",{htmlFor:"codePost",children:"Code Postal:"}),(0,s.jsx)("input",{type:"text",id:"codePost",value:d,onChange:e=>h(e.target.value),required:!0})]}),(0,s.jsxs)("div",{className:"chekout-form-group",children:[(0,s.jsx)("label",{htmlFor:"adresse",children:"Adresse Postale:"}),(0,s.jsx)("input",{type:"text",id:"adresse",value:x,onChange:e=>m(e.target.value),required:!0})]}),(0,s.jsxs)("div",{className:"chekout-form-group",children:[(0,s.jsx)("label",{htmlFor:"pays",children:"Pays:"}),(0,s.jsx)("input",{type:"text",id:"pays",value:j,onChange:e=>v(e.target.value),required:!0})]}),(0,s.jsx)("button",{type:"submit",className:"register-btn btn-primary",children:"Continuer vers payement"})]})]})}},5584:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return a}});var s=n(5893),t=n(6898),i=n(8565);function a(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{children:(0,s.jsx)(t.Z,{})}),(0,s.jsx)(i.Z,{})]})}}},function(e){e.O(0,[664,888,774,179],function(){return e(e.s=4257)}),_N_E=e.O()}]);