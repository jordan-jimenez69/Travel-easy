(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{5511:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return r(7067)}])},3546:function(e,s,r){"use strict";function n(){window.confirm("\xcates-vous s\xfbr de vouloir vous d\xe9connecter ?")&&logout()}r.d(s,{Z:function(){return n}})},6898:function(e,s,r){"use strict";r.d(s,{Z:function(){return o}});var n=r(5893),i=r(1664),a=r.n(i),t=r(7294),l=r(7031),c=r(3546);function o(){let{user:e,logout:s}=(0,t.useContext)(l.Z);return(0,n.jsxs)("nav",{className:"navbar",children:[(0,n.jsx)("div",{className:"logo-navbar",children:(0,n.jsx)("h2",{children:"TravelEasy"})}),(0,n.jsx)("div",{className:"liste-navbar",children:(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{className:"li-navbar",children:(0,n.jsx)(a(),{href:"/",children:"Accueil"})}),(0,n.jsx)("li",{className:"li-navbar",children:(0,n.jsx)(a(),{href:"/boutique",children:"Boutique"})}),(0,n.jsx)("li",{className:"li-navbar",children:(0,n.jsx)(a(),{href:"/panier",children:"Panier"})}),e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("li",{className:"li-navbar",children:(0,n.jsx)(a(),{href:"/compte",children:"Mon Compte"})}),(0,n.jsx)("li",{className:"li-navbar",children:(0,n.jsx)("a",{onClick:c.Z,style:{cursor:"pointer"},children:"D\xe9connexion"})})]}):(0,n.jsx)("li",{className:"li-navbar",children:(0,n.jsx)(a(),{href:"/login",children:"Connexion"})})]})})]})}},7067:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return o}});var n=r(5893),i=r(7294),a=r(1664),t=r.n(a),l=()=>{let[e,s]=(0,i.useState)(""),[r,a]=(0,i.useState)(""),[l,c]=(0,i.useState)(""),[o,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(""),[m,x]=(0,i.useState)(""),j=e=>/^(?=.*[A-Z]).{6,}$/.test(e),p=async n=>{if(n.preventDefault(),!j(o)){h("Le mot de passe doit contenir au moins 6 caract\xe8res et une majuscule."),x("");return}try{let n=await fetch("/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstname:e,name:r,email:l,password:o})}),i=await n.json();n.ok?(x("Inscription r\xe9ussie. Vous pouvez maintenant vous connecter."),h(""),s(""),a(""),c(""),u("")):(h(i.message),x(""))}catch(e){h("Erreur du serveur. Veuillez r\xe9essayer plus tard."),x("")}};return(0,n.jsxs)("div",{className:"register-container",children:[(0,n.jsx)("h2",{children:"Inscription"}),(0,n.jsxs)("form",{onSubmit:p,children:[(0,n.jsxs)("div",{className:"register-form-group",children:[(0,n.jsx)("label",{htmlFor:"firstname",children:"Pr\xe9nom:"}),(0,n.jsx)("input",{type:"text",id:"firstname",value:e,onChange:e=>s(e.target.value),required:!0})]}),(0,n.jsxs)("div",{className:"register-form-group",children:[(0,n.jsx)("label",{htmlFor:"name",children:"Nom:"}),(0,n.jsx)("input",{type:"text",id:"name",value:r,onChange:e=>a(e.target.value),required:!0})]}),(0,n.jsxs)("div",{className:"register-form-group",children:[(0,n.jsx)("label",{htmlFor:"email",children:"Email:"}),(0,n.jsx)("input",{type:"email",id:"email",value:l,onChange:e=>c(e.target.value),required:!0})]}),(0,n.jsxs)("div",{className:"register-form-group",children:[(0,n.jsx)("label",{htmlFor:"password",children:"Mot de passe:"}),(0,n.jsx)("input",{type:"password",id:"password",value:o,onChange:e=>u(e.target.value),required:!0})]}),(0,n.jsx)("button",{type:"submit",className:"register-btn btn-primary",children:"S'inscrire"})]}),d&&(0,n.jsx)("p",{className:"error-message",children:d}),m&&(0,n.jsx)("p",{className:"success-message",children:m}),(0,n.jsxs)("p",{className:"register-login-link",children:["Vous avez d\xe9j\xe0 un compte ? ",(0,n.jsx)(t(),{href:"/login",children:"Connectez-vous"}),"."]})]})},c=r(6898);function o(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:(0,n.jsx)(c.Z,{})}),(0,n.jsx)("div",{children:(0,n.jsx)(l,{})})]})}}},function(e){e.O(0,[664,888,774,179],function(){return e(e.s=5511)}),_N_E=e.O()}]);